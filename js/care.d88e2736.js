(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["care"],{"127b":function(t,e,a){"use strict";a("aa9f")},1452:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"steps-ul"},t._l(t.stepsData,(function(e,s){return i("li",{key:s,class:["stepAfter","stepBefoer",t.current>s?"success":""]},[i("div",[t.current>s?i("img",{staticClass:"steps-img ul-li-img",attrs:{src:a("d284"),alt:""}}):i("span",{class:["steps-img",t.current>=s?"steps-success":""]},[t._v(t._s(s+1))]),i("span",{class:["steps-title"]},[t._v(t._s(t.current>s?"已完成":e.title))])])])})),0)},s=[],n=(a("a9e3"),{props:{stepsData:{type:Array,require:!0},current:{type:Number,default:0}}}),r=n,c=(a("2d9d"),a("2877")),o=Object(c["a"])(r,i,s,!1,null,"5bc58cbd",null);e["a"]=o.exports},2532:function(t,e,a){"use strict";var i=a("23e7"),s=a("e330"),n=a("5a34"),r=a("1d80"),c=a("577e"),o=a("ab13"),l=s("".indexOf);i({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~l(c(r(this)),c(n(t)),arguments.length>1?arguments[1]:void 0)}})},"2d9d":function(t,e,a){"use strict";a("7b23")},"5a34":function(t,e,a){var i=a("da84"),s=a("44e7"),n=i.TypeError;t.exports=function(t){if(s(t))throw n("The method doesn't accept regular expressions");return t}},"7b23":function(t,e,a){},aa9f:function(t,e,a){},ab13:function(t,e,a){var i=a("b622"),s=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(i){}}return!1}},c698:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"care-contiter"},[a("steps",{attrs:{current:t.current,stepsData:t.stepsData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.current,expression:"current == 0"}],ref:"careBox",staticClass:"care-box"},[a("RadioGroup",{staticClass:"care-box-left",on:{"on-change":t.selectRadio},model:{value:t.animal,callback:function(e){t.animal=e},expression:"animal"}},t._l(t.skinCareList,(function(e,i){return a("Radio",{key:i,staticClass:"box-list",attrs:{label:e.name}},[t._v(t._s(e.name))])})),1),a("div",{staticClass:"care-box-right"},[a("Form",{attrs:{model:t.formItem,"label-width":80}},[a("FormItem",{attrs:{label:"肌肤症状"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入肌肤症状..."},model:{value:t.formItem.symptom,callback:function(e){t.$set(t.formItem,"symptom",e)},expression:"formItem.symptom"}})],1),a("FormItem",{attrs:{label:"问题诊断"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入问题诊断..."},model:{value:t.formItem.diagnosis,callback:function(e){t.$set(t.formItem,"diagnosis",e)},expression:"formItem.diagnosis"}})],1),a("FormItem",{attrs:{label:"解决方案"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入解决方案..."},model:{value:t.formItem.solution,callback:function(e){t.$set(t.formItem,"solution",e)},expression:"formItem.solution"}})],1),a("FormItem",{attrs:{label:"温馨提示"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入温馨提示..."},model:{value:t.formItem.hint,callback:function(e){t.$set(t.formItem,"hint",e)},expression:"formItem.hint"}})],1),a("FormItem",{attrs:{label:"注意事项"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入注意事项..."},model:{value:t.formItem.attentions,callback:function(e){t.$set(t.formItem,"attentions",e)},expression:"formItem.attentions"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.current,expression:"current == 1"}],staticClass:"care-prodct"},[a("div",{staticClass:"query"},[a("Input",{staticClass:"search-list",staticStyle:{"margin-left":"0"},attrs:{search:"","enter-button":"",placeholder:"输入产品名称进行查询"},on:{"on-search":function(e){return t.change("name",t.queryData)}},model:{value:t.queryData,callback:function(e){t.queryData=e},expression:"queryData"}}),a("Select",{staticClass:"search-list",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"选择系列名称"},on:{"on-change":function(e){return t.change("type",t.typeModel)}},model:{value:t.typeModel,callback:function(e){t.typeModel=e},expression:"typeModel"}},t._l(t.typeList,(function(e,i){return a("Option",{key:e.value+"_"+i,attrs:{value:e}},[t._v(t._s(e))])})),1),a("Select",{staticClass:"search-list",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"选择适应症"},on:{"on-change":function(e){return t.effectChange("effect",t.effectModel)}},model:{value:t.effectModel,callback:function(e){t.effectModel=e},expression:"effectModel"}},t._l(t.effectList,(function(e,i){return a("Option",{key:e.value+"_"+i,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("Table",{staticClass:"care-table",attrs:{height:t.tableHeight,stripe:"",columns:t.titleConfig,data:t.tableData},on:{"on-selection-change":t.selectData}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.current,expression:"current == 2"}],staticClass:"care-prodct"},[a("ul",{staticClass:"product-ul"},[t._l(t.selectionData,(function(e){return a("li",{key:e.id,staticClass:"flex"},[a("Input",{staticClass:"flex-name",staticStyle:{"text-align":"center"},attrs:{type:"text"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}}),a("div",{staticClass:" prodct-ul-features"},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:e.features,callback:function(a){t.$set(e,"features",a)},expression:"item.features"}})],1),a("div",{staticClass:"prodct-ul-weight"},[a("RadioGroup",{on:{"on-change":function(a){return t.radioChange(e)}},model:{value:e.Milligram,callback:function(a){t.$set(e,"Milligram",a)},expression:"item.Milligram"}},t._l(e.weight,(function(e,i){return a("Radio",{key:i,staticStyle:{display:"'flex'"},attrs:{label:e.Milligram}},[a("span",{staticClass:"content-span",staticStyle:{"margin-right":"10px"}},[t._v("规格："+t._s(e.Milligram)+"g")]),a("span",{staticClass:"content-span"},[t._v("价格：¥"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticStyle:{width:"60px","text-align":"center",border:"none"},attrs:{type:"number"},domProps:{value:e.price},on:{blur:function(a){return t.changePrice(e)},input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}}),t._v(".00")])])})),1)],1),a("div",{staticClass:"prodct-ul-sub"},[a("InputNumber",{attrs:{min:1},on:{"on-change":function(a){return t.subChange(e)}},model:{value:e.sub,callback:function(a){t.$set(e,"sub",a)},expression:"item.sub"}})],1)],1)})),a("li",{staticClass:"flex"},[a("div",{staticClass:"flex-name"},[t._v("合计")]),a("div",{staticClass:" prodct-ul-features"},[t._v(" ¥ "+t._s(t.dataPriceSub)+" ")])])],2)]),a("div",{staticClass:"bottom-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.current>0,expression:"current > 0"}],staticClass:"next pre",on:{click:t.pre}},[t._v("上一步")]),a("div",{staticClass:"next",on:{click:t.next}},[t._v(t._s(2==t.current?"生成报告":"下一步"))])])],1)},s=[],n=a("5530"),r=(a("d81d"),a("99af"),a("4c53"),a("4de4"),a("d3b7"),a("159b"),a("b0c0"),a("caad"),a("2532"),a("dd8b")),c=(a("e36c"),a("1452")),o=a("2f62"),l={components:{steps:c["a"]},data:function(){return{current:0,selecProdct:!1,skinCareList:[],animal:"敏感红血丝",formItem:{symptom:"",diagnosis:"",solution:"",hint:"",attentions:""},productList:[],stepsData:[{current:0,title:"编辑诊断"},{current:1,title:"选择产品"},{current:2,title:"编辑产品"}],titleConfig:[{type:"selection",width:60,align:"center"},{title:"产品名称",key:"name",width:180},{title:"适应症",key:"effect",width:110},{title:"产品功效",key:"features",minWidth:300},{title:"规格/价格",key:"weight",width:240,render:function(t,e){var a=e.row;e.column,e.index;return t("div",{},a.weight.map((function(e){return t("p",{style:{display:"flex"},domProps:{innerHTML:'<span class="content-span">规格：'.concat(e.Milligram,'g</span><span  class="content-span">价格：¥').concat(e.price,".00</span>")}})})))}},{title:"数量",key:"sub",width:100},{title:"系列",key:"type",width:110}],tableData:[],queryData:"",tableHeight:0,selectionData:[],typeModel:"",typeList:[],effectModel:"",effectList:[],dataPriceSub:0}},mounted:function(){var t=this;this.skinCareList=r["b"],this.formItem.symptom=r["b"][0].symptom,this.formItem.diagnosis=r["b"][0].diagnosis,this.formItem.solution=r["b"][0].solution,this.formItem.hint=r["b"][0].hint,this.formItem.attentions=r["b"][0].attentions,this.tableData=r["a"].map((function(e,a){return e.id=a+1,e.sub=1,e.edit=!1,e.Milligram=e.weight[0].Milligram,e.price=e.weight[0].price,-1===t.typeList.indexOf(e.type)&&t.typeList.push(e.type),-1===t.effectList.indexOf(e.effect)&&t.effectList.push(e.effect),e})),this.tableHeight=window.screen.height-420},methods:Object(n["a"])(Object(n["a"])({changePrice:function(t){this.selectionData=this.selectionData.map((function(t){return t.price=t.weight.filter((function(e){return e.Milligram==t.Milligram}))[0].price,t})),this.initDataPrice()},initDataPrice:function(){var t=0;this.selectionData.map((function(e){t+=+e.price*e.sub})),this.dataPriceSub=t},subChange:function(t){this.initDataPrice()},selectRadio:function(t){var e=this;this.skinCareList.forEach((function(a){t===a.name&&(e.formItem.symptom=a.symptom,e.formItem.diagnosis=a.diagnosis,e.formItem.solution=a.solution,e.formItem.hint=a.hint)}))},renderTemplate:function(){this.setSkinCareData({formItem:this.formItem,productList:this.selectionData}),this.$router.push({name:"template"})}},Object(o["b"])(["setSkinCareData"])),{},{pre:function(){this.current-=1},next:function(){2===this.current?this.renderTemplate():1==this.current?(this.current+=1,this.initDataPrice()):this.current+=1},change:function(t,e){var a=this;this.tableData=r["a"].filter((function(a){return!e||a[t].includes(e)})),this.tableData.forEach((function(t){a.selectionData.forEach((function(e){t.id===e.id&&(t._checked=!0)}))}))},selectData:function(t){this.selectionData=t},radioChange:function(t){t.price=t.weight.filter((function(e){return e.Milligram==t.Milligram}))[0].price,this.changePrice()},effectChange:function(t,e){var a=this;this.tableData=r["a"].filter((function(a){return!e||a[t].includes(e)})),this.tableData.forEach((function(t){a.selectionData.forEach((function(e){t.id===e.id&&(t._checked=!0)}))}))}})},u=l,m=(a("127b"),a("2877")),f=Object(m["a"])(u,i,s,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=care.d88e2736.js.map